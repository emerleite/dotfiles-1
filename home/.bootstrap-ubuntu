#!/bin/bash

## Utils
CODENAME=`lsb_release --codename --short`

## Timezone
ln -sf /usr/share/zoneinfo/America/Sao_Paulo /etc/localtime # dpkg-reconfigure tzdata

## Aptitude
apt-get -y install aptitude

## Se tiver usando precise (último LTS) adiciona emacs24 e 2 repos que normalmente uso em servidores.
if [ $CODENAME == "precise" ]; then
    ## Emacs24
    add-apt-repository -y ppa:cassou/emacs

    ## Varnish
    curl http://repo.varnish-cache.org/debian/GPG-key.txt | apt-key add -
    echo "deb http://repo.varnish-cache.org/ubuntu/ ${CODENAME} varnish-3.0" > /etc/apt/sources.list.d/varnish.list

    ## Repositório do Passenger
    apt-add-repository -y ppa:brightbox/passenger-nginx
fi

## Update
aptitude update
aptitude -y full-upgrade

## Pacotes básicos
aptitude -y install build-essential texinfo # texinfo contem o maketext que alguns usam, inclusive o magit
aptitude -y install libxml2-dev libxslt1-dev libssl-dev libreadline-dev git
aptitude -y install libmysql++-dev
aptitude -y install tmux wget htop curl vim-nox whois links
aptitude -y install emacs24

## Instala python
aptitude -y install python virtualenvwrapper

## Instala ruby
aptitude -y install ruby1.9.3
REALLY_GEM_UPDATE_SYSTEM=yes gem update --system
gem install bundler --no-rdoc --no-ri
